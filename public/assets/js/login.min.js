function login(e){var e=e||"";if($("#frm_login").validationEngine("validate")){if(""!=e&&e.hasClass("disabled"))return!1;$.ajax({type:"post",url:getUrlBase+"login",dataType:"json",data:$("#frm_login").serialize(),beforeSend:function(a){$(".alert-ajax").html(""),""!=e&&(e.addClass("disabled"),e.append('<i class="fa fa-spin fa-pulse"></i>'))},error:function(){""!=e&&e.find("i.fa-pulse").remove()}}).done(function(a){""!=e&&(e.removeClass("disabled"),e.find("i.fa-pulse").remove()),1==a.success&&setTimeout(function(){window.location.href=a.redirectTo},1200);var i=processStrJson(a.msg);""!=i&&(i=0==a.success?'<div class="alert alert-danger alert-dismissible fade in" role="alert"><h4 class="alert-heading h4"><i class="fa fa-exclamation-circle"></i>Â¡Alerta!</h4>'+i+"</div>":'<div class="alert alert-success alert-dismissible fade in" role="alert"><h4 class="alert-heading h4"><i class="fa fa-thumbs-o-up"></i>'+i+"</h4></div>",$(".alert-ajax").html(i))}).fail(function(a){return 401==a.status?(location.reload(),!1):(""!=e&&e.removeClass("disabled"),void msg_ups())})}}$(document).ready(function(){$('input[name="email"]').focus()}),$(document).on("click",".btn-forget",function(e){e.preventDefault(),$(".login-container").fadeOut("fast",function(){$(".reset-psw").fadeIn("slow")})}),$(document).on("click",".back-login",function(e){e.preventDefault(),$(".reset-psw").fadeOut("fast",function(){$(".login-container").fadeIn("slow")})}),$(document).on("click",".btn-login",function(e){e.preventDefault();var a=$(this);login(a)});